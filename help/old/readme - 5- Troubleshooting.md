# *********************************************************** HR System โ ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ (ูุฑุญูู ต)
# ุฎุทุงูุง ุฑุงุฌ ู ุฑูุด ุจุฑุทุฑู ฺฉุฑุฏู ุขูโูุง (Troubleshooting)

ุฏุฑ ุงู ูุฑุญูู ูุฑุถ ูโฺฉูู ฺฉู:
- ูุฑุงุญู ฑ ุชุง ด ุฑุง ุงูุฌุงู ุฏุงุฏูโุงุฏ
- ูพุฑูฺู ุญุฏุงูู ฺฉโุจุงุฑ ุจุงูุง ุขูุฏู ุง ุชูุงุด ฺฉุฑุฏูโุงุฏ ุขู ุฑุง ุจุงูุง ุจุงูุฑุฏ
- ููฺฉู ุงุณุช ุจุง ุฎุทุงูุง ูุฎุชูู ุฑูุจูโุฑู ุดุฏู ุจุงุดุฏ

ูุฏู ุงู ูุฑุญูู:
- ุขุดูุง ุจุง ุฎุทุงูุง ุฑุงุฌ
- ุฏุงูุณุชู ุนูุช ูุฑ ุฎุทุง
- ุงุฏ ฺฏุฑูุชู ุฑูุด ุฏูู ุจุฑุทุฑู ฺฉุฑุฏู ุขู

ุงู ูุฑุญูู ุฑุง ุจุง ุฏูุช ุจุฎูุงูุฏุ
ุจุดุชุฑ ูุดฺฉูุงุช ูุงูุน ูพุฑูฺูโูุง ุฏููุงู ูููโุฌุง ุญู ูโุดููุฏ.

---

## โ ุฎุทุง ฑ: Backend ุงุตูุงู ุจุงูุง ููโุขุฏ (python run.py ุฎุทุง ูโุฏูุฏ)

### ูุดุงููโูุง:
- ุจุนุฏ ุงุฒ ุงุฌุฑุง `python run.py` ุจุฑูุงูู ููุฑุงู ูุชููู ูโุดูุฏ
- ุฎุทุง ูุฑูุฒ ุฏุฑ Command Prompt ููุงุด ุฏุงุฏู ูโุดูุฏ

### ุฏูุงู ุฑุงุฌ:
- Virtual Environment ูุนุงู ูุณุช
- ฺฉุชุงุจุฎุงููโูุง ูุตุจ ูุดุฏูโุงูุฏ
- ูุณุฎู Python ุงุดุชุจุงู ุงุณุช

### ุฑุงูโุญู:
1. ูุทูุฆู ุดูุฏ `(venv)` ุฏุฑ ุงุจุชุฏุง ุฎุท ูุฑูุงู ุฏุฏู ูโุดูุฏ
2. ุงฺฏุฑ ูุณุช:
   venv\Scripts\activate
3. ฺฉุชุงุจุฎุงููโูุง ุฑุง ุฏูุจุงุฑู ูุตุจ ฺฉูุฏ:
   pip install -r requirements.txt
4. ูุณุฎู Python ุฑุง ฺฺฉ ฺฉูุฏ:
   python --version
   (ุจุงุฏ 3.10 ุง ุจุงูุงุชุฑ ุจุงุดุฏ)

---

## โ ุฎุทุง ฒ: ุฎุทุง ุงุชุตุงู ุจู ุฏุชุงุจุณ (Database connection FAILED)

### ูุดุงููโูุง:
- ุฏุฑ ูุงฺฏ Startup ูพุงู:
  Database connection FAILED
- ุง Health Check ููุฏุงุฑ:
  database: disconnected

### ุฏูุงู ุฑุงุฌ:
- ุงุทูุงุนุงุช ุฏุชุงุจุณ ุฏุฑ ูุงู `.env` ุงุดุชุจุงู ุงุณุช
- SQL Server ุงุฌุฑุง ูุดุฏู ุงุณุช
- ODBC Driver ูุตุจ ูุณุช

### ุฑุงูโุญู:
1. ูุงู `.env` ุฑุง ุจุงุฒ ฺฉูุฏ ู ุงู ููุงุฑุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ:
   - DB_NAME
   - DB_USER
   - DB_PASSWORD
   - DB_HOST
   - DB_PORT
2. ูุทูุฆู ุดูุฏ SQL Server ุฏุฑ ุญุงู ุงุฌุฑุงุณุช
3. ุจุฑุฑุณ ฺฉูุฏ ODBC Driver ูุตุจ ุงุณุช:
   Control Panel โ ODBC Data Sources โ Drivers
4. ุงฺฏุฑ Driver ูุฌูุฏ ูุฏุงุฑุฏุ ุจุงุฏ ูุตุจ ุดูุฏ

---

## โ ุฎุทุง ณ: ุขุฏุฑุณ http://localhost:8000/docs ุจุงุฒ ููโุดูุฏ

### ูุดุงููโูุง:
- ูุฑูุฑฺฏุฑ ุฎุทุง Page Not Found ุง Connection Refused ูโุฏูุฏ

### ุฏูุงู ุฑุงุฌ:
- Backend ุงุฌุฑุง ูุดุฏู ุงุณุช
- ูพูุฑุช 8000 ุชูุณุท ุจุฑูุงูู ุฏฺฏุฑ ุงุดุบุงู ุงุณุช

### ุฑุงูโุญู:
1. ูุทูุฆู ุดูุฏ Command Prompt ูููุฒ ุจุงุฒ ุงุณุช ู `run.py` ุฏุฑ ุญุงู ุงุฌุฑุงุณุช
2. ุงฺฏุฑ ูพูุฑุช ุงุดุบุงู ุงุณุช:
   - ุจุฑูุงูู ุฏฺฏุฑ ฺฉู ุงุฒ ูพูุฑุช 8000 ุงุณุชูุงุฏู ูโฺฉูุฏ ุฑุง ุจุจูุฏุฏ
   - ุง ูพูุฑุช ุฑุง ุฏุฑ `run.py` ุชุบุฑ ุฏูุฏ

---

## โ ุฎุทุง ด: Frontend ุจุงุฒ ูโุดูุฏ ูู ุฌุฏูู ฺฉุงุฑุจุฑุงู ุฎุงู ุงุณุช

### ูุดุงููโูุง:
- ุตูุญู ุณุงุช ุจุงูุง ูโุขุฏ
- ุฌุฏูู ููุงุด ุฏุงุฏู ูโุดูุฏ
- ุงูุง ูฺ ุฏุงุฏูโุง ุฏุฑ ุฌุฏูู ูุณุช

### ุฏูุงู ุฑุงุฌ:
- Backend ุงุฌุฑุง ูุณุช
- API `/api/hr/users` ุฎุทุง ูโุฏูุฏ
- Reverse Proxy ุฏุฑุณุช ุชูุธู ูุดุฏู

### ุฑุงูโุญู:
1. ุงู ุขุฏุฑุณ ุฑุง ูุณุชูู ุชุณุช ฺฉูุฏ:
   http://localhost:8000/api/hr/users
2. ุงฺฏุฑ ุฎุทุง ุฏุงุฑุฏ:
   - ูุดฺฉู Backend ุง ุฏุชุงุจุณ ุงุณุช
3. ุงฺฏุฑ ุฏุฑุณุช ุงุณุช ูู ุฏุฑ IIS ฺฉุงุฑ ููโฺฉูุฏ:
   - Reverse Proxy ุฑุง ุจุฑุฑุณ ฺฉูุฏ
   - ูุณุฑ `/api/*` ุจุงุฏ ุจู FastAPI ูุฏุงุช ุดูุฏ

---

## โ ุฎุทุง ต: ูุงู ฺฉุงุฑุจุฑ ููุฏูุฒ ููุงุด ุฏุงุฏู ููโุดูุฏ

### ูุดุงููโูุง:
- ุฏุฑ ุจุงูุง ุตูุญู ููุดุชู ุดุฏู:
  ฺฉุงุฑุจุฑ ูุงุดูุงุณ
- ุง ููุฏุงุฑ ุฎุงู ููุงุด ุฏุงุฏู ูโุดูุฏ

### ุฏูุงู ุฑุงุฌ:
- Windows Authentication ูุนุงู ูุณุช
- Anonymous Authentication ูููุฒ ูุนุงู ุงุณุช
- API `/api/hr/me` ฺฉุงุฑ ููโฺฉูุฏ

### ุฑุงูโุญู:
1. ุฏุฑ IIS:
   - Windows Authentication โ Enable
   - Anonymous Authentication โ Disable
2. ุขุฏุฑุณ ุฒุฑ ุฑุง ุชุณุช ฺฉูุฏ:
   http://localhost:8080/api/hr/me
3. ุงฺฏุฑ ุฏุฑ ุญุงูุช DEV ูุณุชุฏ:
   - ููุฏุงุฑ DEV_USER ุฏุฑ `.env` ุจุงุฏ ุชูุธู ุดุฏู ุจุงุดุฏ

---

## โ ุฎุทุง ถ: ุฎุทุง 401 ุง 403 ููฺฏุงู ูุฑุงุฎูุงู API

### ูุดุงููโูุง:
- ูุฑูุฑฺฏุฑ ุง Console ุฎุทุง 401 / 403 ููุงุด ูโุฏูุฏ

### ุฏูุงู ุฑุงุฌ:
- Windows Authentication ุฏุฑุณุช ุชูุธู ูุดุฏู
- ูุฑูุฑฺฏุฑ ุงุญุฑุงุฒ ููุช ูุดุฏู
- IIS ุงุฌุงุฒู ุฏุณุชุฑุณ ููโุฏูุฏ

### ุฑุงูโุญู:
1. ุณุงุช ุฑุง ุจุง ูุฑูุฑฺฏุฑ Edge ุง Chrome ุจุงุฒ ฺฉูุฏ
2. ูุทูุฆู ุดูุฏ ุจุง ฺฉุงุฑุจุฑ ุฏุงููู ูุงฺฏู ูุณุชุฏ
3. ุชูุธูุงุช Authentication ุณุงุช ุฏุฑ IIS ุฑุง ุฏูุจุงุฑู ุจุฑุฑุณ ฺฉูุฏ

---

## โ ุฎุทุง ท: ุฎุทุง CORS ุฏุฑ Console ูุฑูุฑฺฏุฑ

### ูุดุงููโูุง:
- ุฎุทุง CORS ุฏุฑ Console
- ุฏุฑุฎูุงุณุช API ุจูุงฺฉ ูโุดูุฏ

### ุฏูุงู ุฑุงุฌ:
- Backend ุงุฒ ุฏุงููู IIS ุฏุฑุฎูุงุณุช ุฑุง ูุจูู ููโฺฉูุฏ

### ุฑุงูโุญู:
- ุฏุฑ `main.py` ุจุฑุฑุณ ฺฉูุฏ ฺฉู CORS Middleware ูุนุงู ุงุณุช
- ุฏุฑ ุญุงูุช DEVุ allow_origins ุฑู "*" ุจุงุดุฏ

---

## โ ุฎุทุง ธ: ูููุช ูุงุฑุณ ุงุนูุงู ููโุดูุฏ

### ูุดุงููโูุง:
- ูุชูโูุง ุจุง ูููุช ูพุดโูุฑุถ ููุงุด ุฏุงุฏู ูโุดููุฏ

### ุฏูุงู ุฑุงุฌ:
- ูุณุฑ ูููุชโูุง ุงุดุชุจุงู ุงุณุช
- ูุงู ูููุช ุฏุฑ IIS ุณุฑู ููโุดูุฏ

### ุฑุงูโุญู:
1. ูุณุฑ ูููุชโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ:
   frontend/assets/fonts/woff2/
2. ุฏุฑ DevTools ูุฑูุฑฺฏุฑ:
   - Network โ Font
   - ุจุฑุฑุณ ฺฉูุฏ ูููุช 404 ูุจุงุดุฏ
3. ุฏุฑ IIS ูุทูุฆู ุดูุฏ Static Content ูุนุงู ุงุณุช

---

## โ ุฎุทุง น: ุณุงุช IIS ุจุงูุง ููโุขุฏ (404 ุง 500)

### ูุดุงููโูุง:
- http://localhost:8080 ุจุงุฒ ููโุดูุฏ
- ุฎุทุง IIS ููุงุด ุฏุงุฏู ูโุดูุฏ

### ุฏูุงู ุฑุงุฌ:
- Physical Path ุงุดุชุจุงู ุงุณุช
- ุณุงุช Start ูุดุฏู
- ูพูุฑุช ุงุดุบุงู ุงุณุช

### ุฑุงูโุญู:
1. IIS Manager โ Sites โ HR-Frontend
2. ูุถุนุช ุณุงุช ุจุงุฏ Started ุจุงุดุฏ
3. Physical Path ุจุงุฏ ุฏููุงู ูุณุฑ frontend ุจุงุดุฏ
4. ูพูุฑุช ุงูุชุฎุงุจโุดุฏู ุขุฒุงุฏ ุจุงุดุฏ

---

## โ ุฎุทุง ฑฐ: ูฺ ูุงฺฏ ูุฏุงุฑู ู ููโุฏุงูู ฺู ุดุฏู

### ุฑุงูโุญู ุญุฑููโุง:
1. ูุงู ุฒุฑ ุฑุง ุจุงุฒ ฺฉูุฏ:
   logs/app.log
2. ุฌุฏุฏุชุฑู ุฎุทุงูุง ุฑุง ุงุฒ ูพุงู ุจู ุจุงูุง ุจุฎูุงูุฏ
3. ูพุงู ุฎุทุง ูุนูููุงู ุฏููุงู ุนูุช ุฑุง ูโฺฏูุฏ

---

## ๐ง ุชูุตู ููุง (ุฎู ููู)

ููุช ุจู ูุดฺฉู ุฎูุฑุฏุฏ:
1. ูุญุดุช ูฺฉูุฏ
2. ุฎุทุง ุฑุง ฺฉุงูู ุจุฎูุงูุฏ
3. ูุงฺฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ
4. API ุฑุง ูุณุชูู ุชุณุช ฺฉูุฏ
5. ููุท ุจุนุฏ ุงุฒ ุงูโูุง ุณุคุงู ุจูพุฑุณุฏ

---

## โ ูพุงุงู ุฑุงูููุง

ุงฺฏุฑ ุชูุงู ูุฑุงุญู ฑ ุชุง ต ุฑุง ุงูุฌุงู ุฏุงุฏู ุจุงุดุฏ:
- ูพุฑูฺู HR ุฑู IIS ุงุฌุฑุง ูโุดูุฏ
- Backend ู Frontend ุจู ูู ูุตู ูุณุชูุฏ
- ุงุญุฑุงุฒ ููุช ููุฏูุฒ ฺฉุงุฑ ูโฺฉูุฏ
- ุดูุง ฺฉ ุณุณุชู ูุงูุน ุณุงุฒูุงู ุฑุง ุจุงูุง ุขูุฑุฏูโุงุฏ

ุชุจุฑฺฉ ๐
ุดูุง ุงููู ูพุฑูฺู FastAPI + Vue + IIS ุฎูุฏ ุฑุง ุงุฌุฑุง ฺฉุฑุฏูโุงุฏ.
